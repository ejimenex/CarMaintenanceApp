<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/settings"></ion-back-button>
    </ion-buttons>
    <ion-title>Gestión de Consentimiento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="consent-management-container">
    
    <ion-card class="info-card">
      <ion-card-content>
        <p class="info-text">
          Gestiona tus preferencias de privacidad y controla qué datos compartes con nosotros.
        </p>
      </ion-card-content>
    </ion-card>

    <ion-card class="consent-card">
      <ion-card-header>
        <ion-card-title>Configuración de Consentimiento</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          @for (setting of consentSettings; track setting.id) {
            <ion-item class="consent-item">
              <ion-icon 
                [name]="setting.icon" 
                slot="start" 
                class="consent-icon">
              </ion-icon>
              <ion-label class="consent-content">
                <h3 class="consent-title">{{ setting.title }}</h3>
                <p class="consent-description">{{ setting.description }}</p>
              </ion-label>
              <ion-toggle
                [checked]="setting.enabled"
                (ionChange)="toggleConsent(setting)"
                slot="end">
              </ion-toggle>
            </ion-item>
          }
        </ion-list>
      </ion-card-content>
    </ion-card>

  </div>
</ion-content>
